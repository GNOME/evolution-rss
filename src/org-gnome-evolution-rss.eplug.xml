<?xml version="1.0"?>
<e-plugin-list>
  <e-plugin
    type="shlib"
    id="org.gnome.cooly.plugin.rss"
    location="+PLUGIN_INSTALL_DIR+/liborg-gnome-evolution-rss.so"
    domain="+GETTEXT_PACKAGE+"
    localedir="+LOCALEDIR+"
    name="Evolution Rss">
    <_description>Evolution RSS Reader Plugin.</_description>
    <author name="Lucian Langa" email="cooly@mips.edu.ms"/>
    <hook class="org.gnome.evolution.shell.events:1.0">
         <event
                 id="upgrade.done"
                 handle="org_gnome_cooly_rss_startup"
                 target="upgrade"/>
                                                                                                                                                                 </hook>

+RSS_MENU+
    <hook class="org.gnome.evolution.mail.bonobomenu:1.0">
      <menu target="select" id="org.gnome.evolution.mail.browser">
      
      <ui file="+PLUGIN_INSTALL_DIR+/org-gnome-evolution-rss.xml"/>
          <item verb="RSSTask" type="item" path="/commands/RSSTask" activate="org_gnome_cooly_rss_refresh"/>
	</menu>
    </hook>
+MENU_END+


	<hook class="org.gnome.evolution.mail.events:1.0">
        	<event type="pass" target="message" id="message.reading" handle="org_gnome_cooly_article_show"/>
	</hook>

	<hook class="org.gnome.evolution.mail.format:1.0">
      <group id="EMFormatHTMLDisplay">
        <item flags="inline_disposition" mime_type="text/evolution-rss-feed"
          format="org_gnome_cooly_format_rss"/>
      </group>
      <group id="EMFormat">
        <item flags="inline_disposition" mime_type="text/evolution-rss-feed"
          format="org_gnome_cooly_format_rss"/>
      </group>
    </hook>

<hook class="org.gnome.evolution.mail.events:1.0">
    <event id="mail.sendreceive" 
	enable="sendreceive"
	handle="org_gnome_cooly_rss"
	target="sendreceive"/>
</hook>

  </e-plugin>
</e-plugin-list>
